1. Стратегия масштабирования и отказоустойчивости

Используем горизонтальное масштабирование за счёт Kubernetes и Auto Scaling.
Две зоны доступности (Москва и Дальний Восток) обеспечивают покрытие всех часовых поясов.
Независимые Kubernetes кластеры, управляемые через GSLB и API Gateway.

2. Деплой в нескольких зонах безопасности

Растянутый кластер Kubernetes менее отказоустойчив, поэтому выбраны независимые кластеры в каждой зоне.
Независимые кластеры позволяют избежать проблем с межзоновой связностью и отказами глобального etcd.

3. Балансировка нагрузки

GeoDNS перенаправляет трафик на ближайший регион.
Global Load Balancer (GSLB) распределяет трафик на API Gateway каждого региона.
Внутри Kubernetes используется Ingress Controller для маршрутизации на сервисы.

4. Фейловер-стратегия

Active-Active стратегия с балансировкой трафика между регионами.
В случае сбоя одного региона трафик переключается через GSLB на другой регион.
База данных использует Multi-Master репликацию PostgreSQL (Patroni + Etcd).
Redis Cluster обеспечивает быструю выдачу данных, снижая нагрузку на БД.

5. Конфигурация базы данных

PostgreSQL Multi-Master Cluster с репликацией между регионами.
Автоматический failover между мастер-нодами БД.
Резервное копирование каждые 15 минут (WAL архивирование + PITR).
Шардирование БД:
Клиентские данные → Master-реплика
История заявок → Отдельная шардированная таблица
Ожидаемые результаты:
✅ Высокая доступность – 99.9% SLA обеспечивается за счёт мультизонального развертывания.
✅ Минимальное время простоя (RTO 45 мин.) – быстрое переключение трафика между регионами.
✅ Минимальная потеря данных (RPO 15 мин.) – благодаря WAL репликации.
✅ Одинаковая скорость загрузки в регионах – за счёт CDN и распределённой архитектуры.